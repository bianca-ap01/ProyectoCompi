{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/compilers/proyectofinal/ProyectoCompiv3/ProyectoCompi/frontend/components/grammar-panel.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useRef, useState } from \"react\"\r\nimport Editor, { type OnMount } from \"@monaco-editor/react\"\r\nimport type * as monaco from \"monaco-editor\"\r\n\r\ninterface GrammarPanelProps {\r\n  code: string\r\n  setCode: (value: string) => void\r\n  activeLine?: number\r\n}\r\n\r\nexport function GrammarPanel({ code, setCode, activeLine }: GrammarPanelProps) {\r\n  const [editorInstance, setEditorInstance] = useState<monaco.editor.IStandaloneCodeEditor | null>(null)\r\n  const monacoRef = useRef<typeof import(\"monaco-editor\")>()\r\n  const decorationsRef = useRef<string[]>([])\r\n\r\n  const handleEditorChange = (value: string | undefined) => {\r\n    if (value !== undefined) setCode(value)\r\n  }\r\n\r\n  const handleMount: OnMount = (editor, monacoInstance) => {\r\n    setEditorInstance(editor)\r\n    monacoRef.current = monacoInstance\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!editorInstance || !monacoRef.current) return\r\n    const m = monacoRef.current\r\n    const decos =\r\n      activeLine && activeLine > 0\r\n        ? [\r\n            {\r\n              range: new m.Range(activeLine, 1, activeLine, 1),\r\n              options: {\r\n                isWholeLine: true,\r\n                className: \"code-active-line\",\r\n                marginClassName: \"code-active-line-margin\",\r\n              },\r\n            },\r\n          ]\r\n        : []\r\n    decorationsRef.current = editorInstance.deltaDecorations(decorationsRef.current, decos)\r\n    if (activeLine && activeLine > 0) {\r\n      editorInstance.revealLineInCenter(activeLine)\r\n    }\r\n  }, [activeLine, editorInstance])\r\n\r\n  return (\r\n    <div className=\"h-full w-full\" id=\"code-editor-pane\">\r\n      <Editor\r\n        height=\"100%\"\r\n        defaultLanguage=\"c\"\r\n        theme=\"vs-dark\"\r\n        value={code}\r\n        onChange={handleEditorChange}\r\n        onMount={handleMount}\r\n        options={{\r\n          minimap: { enabled: false },\r\n          fontSize: 13,\r\n          fontFamily: \"'JetBrains Mono', 'Fira Code', monospace\",\r\n          lineNumbers: \"on\",\r\n          scrollBeyondLastLine: false,\r\n          automaticLayout: true,\r\n          tabSize: 4,\r\n          padding: { top: 12, bottom: 12 },\r\n          renderLineHighlight: \"gutter\",\r\n          cursorBlinking: \"smooth\",\r\n          smoothScrolling: true,\r\n          bracketPairColorization: { enabled: true },\r\n        }}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAYO,SAAS,aAAa,EAAE,IAAI,EAAE,OAAO,EAAE,UAAU,EAAqB;;IAC3E,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAA6C;IACjG,MAAM,YAAY,IAAA,uKAAM;IACxB,MAAM,iBAAiB,IAAA,uKAAM,EAAW,EAAE;IAE1C,MAAM,qBAAqB,CAAC;QAC1B,IAAI,UAAU,WAAW,QAAQ;IACnC;IAEA,MAAM,cAAuB,CAAC,QAAQ;QACpC,kBAAkB;QAClB,UAAU,OAAO,GAAG;IACtB;IAEA,IAAA,0KAAS;kCAAC;YACR,IAAI,CAAC,kBAAkB,CAAC,UAAU,OAAO,EAAE;YAC3C,MAAM,IAAI,UAAU,OAAO;YAC3B,MAAM,QACJ,cAAc,aAAa,IACvB;gBACE;oBACE,OAAO,IAAI,EAAE,KAAK,CAAC,YAAY,GAAG,YAAY;oBAC9C,SAAS;wBACP,aAAa;wBACb,WAAW;wBACX,iBAAiB;oBACnB;gBACF;aACD,GACD,EAAE;YACR,eAAe,OAAO,GAAG,eAAe,gBAAgB,CAAC,eAAe,OAAO,EAAE;YACjF,IAAI,cAAc,aAAa,GAAG;gBAChC,eAAe,kBAAkB,CAAC;YACpC;QACF;iCAAG;QAAC;QAAY;KAAe;IAE/B,qBACE,6LAAC;QAAI,WAAU;QAAgB,IAAG;kBAChC,cAAA,6LAAC,2LAAM;YACL,QAAO;YACP,iBAAgB;YAChB,OAAM;YACN,OAAO;YACP,UAAU;YACV,SAAS;YACT,SAAS;gBACP,SAAS;oBAAE,SAAS;gBAAM;gBAC1B,UAAU;gBACV,YAAY;gBACZ,aAAa;gBACb,sBAAsB;gBACtB,iBAAiB;gBACjB,SAAS;gBACT,SAAS;oBAAE,KAAK;oBAAI,QAAQ;gBAAG;gBAC/B,qBAAqB;gBACrB,gBAAgB;gBAChB,iBAAiB;gBACjB,yBAAyB;oBAAE,SAAS;gBAAK;YAC3C;;;;;;;;;;;AAIR;GA9DgB;KAAA"}},
    {"offset": {"line": 104, "column": 0}, "map": {"version":3,"sources":["file:///C:/compilers/proyectofinal/ProyectoCompiv3/ProyectoCompi/frontend/components/memory-visualizer.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useMemo, useRef, useState } from \"react\"\r\nimport { ImageIcon } from \"lucide-react\"\r\nimport type { StackFrame } from \"@/lib/compiler-service\"\r\n\r\ninterface MemoryVisualizerProps {\r\n  imageBase64?: string\r\n  stack?: StackFrame[]\r\n  output?: string\r\n  activeIndex: number\r\n  setActiveIndex: (idx: number) => void\r\n}\r\n\r\nexport function MemoryVisualizer({ imageBase64, stack, output, activeIndex, setActiveIndex }: MemoryVisualizerProps) {\r\n  const hasStack = useMemo(() => !!stack && stack.length > 0, [stack])\r\n  const snaps = stack ?? []\r\n\r\n  const diffForIndex = (idx: number) => {\r\n    const snap = snaps[idx]\r\n    const prevSnap = idx > 0 ? snaps[idx - 1] : undefined\r\n    if (!snap) return { added: [] as string[], updated: new Set<string>() }\r\n    const prevMap = prevSnap ? new Map(prevSnap.vars.map((v) => [v.name, v])) : new Map<string, typeof snap.vars[number]>()\r\n    const added: string[] = []\r\n    const updated = new Set<string>()\r\n    snap.vars.forEach((v) => {\r\n      const p = prevMap.get(v.name)\r\n      if (!p) {\r\n        added.push(v.name)\r\n      } else if (p.value !== v.value || p.offset !== v.offset) {\r\n        updated.add(v.name)\r\n      }\r\n    })\r\n    return { added, updated }\r\n  }\r\n\r\n  const current = snaps[activeIndex] ?? snaps[0]\r\n  const prev = activeIndex > 0 ? snaps[activeIndex - 1] : undefined\r\n  const activeSnapRef = useRef<HTMLButtonElement | null>(null)\r\n\r\n  useEffect(() => {\r\n    if (activeIndex >= snaps.length) setActiveIndex(0)\r\n  }, [snaps.length, activeIndex, setActiveIndex])\r\n\r\n  useEffect(() => {\r\n    if (activeSnapRef.current) {\r\n      activeSnapRef.current.scrollIntoView({ behavior: \"smooth\", block: \"center\", inline: \"center\" })\r\n    }\r\n  }, [activeIndex])\r\n\r\n  const changes = useMemo(() => {\r\n    if (!current) return { added: [] as string[], updated: new Set<string>() }\r\n    const prevMap = prev ? new Map(prev.vars.map((v) => [v.name, v])) : new Map<string, typeof current.vars[number]>()\r\n    const added: string[] = []\r\n    const updated = new Set<string>()\r\n    current.vars.forEach((v) => {\r\n      const p = prevMap.get(v.name)\r\n      if (!p) {\r\n        added.push(v.name)\r\n      } else if (p.value !== v.value || p.offset !== v.offset) {\r\n        updated.add(v.name)\r\n      }\r\n    })\r\n    return { added, updated }\r\n  }, [current, prev])\r\n\r\n  if (!hasStack && !imageBase64) {\r\n    return (\r\n      <div className=\"h-full flex flex-col items-center justify-center gap-3 text-muted-foreground p-6 bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950\">\r\n        <div className=\"w-12 h-12 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center\">\r\n          <ImageIcon className=\"opacity-70\" size={20} />\r\n        </div>\r\n        <p className=\"text-sm text-center\">La visualización de memoria aparecerá aquí...</p>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (hasStack) {\r\n    return (\r\n      <div className=\"h-full w-full flex flex-col bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 border border-white/10\">\r\n        {/* Fila 1: Snapshots */}\r\n        <div className=\"border-b border-white/10 bg-white/5 px-3 py-2 space-y-2\">\r\n          <div className=\"flex items-center justify-between text-xs text-slate-300\">\r\n            <span className=\"uppercase tracking-[0.15em]\">Código / Snapshots</span>\r\n            <span>{snaps.length} paso(s)</span>\r\n          </div>\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 max-h-40 overflow-auto scrollbar-transparent\">\r\n            {snaps.map((s, idx) => {\r\n              const diff = diffForIndex(idx)\r\n              return (\r\n                <button\r\n                  key={`${s.label}-${idx}`}\r\n                  ref={activeIndex === idx ? activeSnapRef : undefined}\r\n                  onClick={() => setActiveIndex(idx)}\r\n                  className={`text-left rounded-xl border border-white/10 px-3 py-2 transition-colors ${\r\n                    activeIndex === idx\r\n                      ? \"bg-sky-500/80 text-slate-900 shadow-sm shadow-sky-500/40\"\r\n                      : \"bg-white/10 text-slate-100 hover:bg-white/20\"\r\n                  }`}\r\n                >\r\n                  <div className=\"flex items-center justify-between text-[11px] font-semibold font-mono uppercase tracking-wide\">\r\n                    <span className=\"truncate\">\r\n                      {s.line && s.line > 0 ? `L${s.line} · ${s.label}` : s.label}\r\n                    </span>\r\n                  </div>\r\n                  {(diff.added.length > 0 || diff.updated.size > 0) && (\r\n                    <div className=\"text-[10px] text-slate-200 mt-1 space-y-1\">\r\n                      {diff.added.length > 0 && (\r\n                        <div>\r\n                          <span className=\"text-emerald-300 font-semibold\">+ </span>\r\n                          {diff.added.join(\", \")}\r\n                        </div>\r\n                      )}\r\n                      {diff.updated.size > 0 && (\r\n                        <div>\r\n                          <span className=\"text-amber-300 font-semibold\">↻ </span>\r\n                          {Array.from(diff.updated).join(\", \")}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </button>\r\n              )\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Fila 2: stack del snapshot activo */}\r\n        <div className=\"flex-1 overflow-auto p-4\">\r\n          {current ? (\r\n            <div className=\"rounded-2xl border border-white/10 bg-[#0d152a]/80 backdrop-blur-xl p-3 shadow-lg shadow-black/30 space-y-2\">\r\n              <div className=\"flex items-center justify-between text-xs text-slate-200 mb-1\">\r\n                <span className=\"font-semibold text-white uppercase tracking-wide text-[11px] flex items-center gap-2\">\r\n                  {current.label}\r\n                  {current.line !== undefined && current.line > 0 && (\r\n                    <span className=\"text-[10px] text-sky-200 font-mono px-2 py-0.5 rounded bg-sky-500/15 border border-sky-500/30\">\r\n                      L{current.line}\r\n                    </span>\r\n                  )}\r\n                </span>\r\n              </div>\r\n              {(changes.added.length > 0 || changes.updated.size > 0) && (\r\n                <div className=\"text-[11px] text-slate-200\">\r\n                  {changes.added.length > 0 && (\r\n                    <div className=\"mb-1\">\r\n                      <span className=\"text-emerald-300 font-semibold\">Nuevas:</span>{\" \"}\r\n                      {changes.added.join(\", \")}\r\n                    </div>\r\n                  )}\r\n                  {changes.updated.size > 0 && (\r\n                    <div>\r\n                      <span className=\"text-amber-300 font-semibold\">Actualizadas:</span>{\" \"}\r\n                      {Array.from(changes.updated).join(\", \")}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n              <div className=\"w-full overflow-x-auto\">\r\n                <table className=\"min-w-full text-[11px] font-mono border border-white/10 rounded-xl overflow-hidden\">\r\n                  <thead className=\"bg-slate-800/70 text-slate-100 uppercase\">\r\n                    <tr>\r\n                      <th className=\"px-2 py-2 border-r border-white/10 text-left\">Var</th>\r\n                      <th className=\"px-2 py-2 border-r border-white/10 text-left\">Addr</th>\r\n                      <th className=\"px-2 py-2 text-left\">Val</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {current.vars.map((v, i) => (\r\n                      <tr\r\n                        key={`${v.name}-${i}`}\r\n                        className={`text-slate-100 ${\r\n                          changes.updated.has(v.name)\r\n                            ? \"bg-amber-500/30\"\r\n                            : \"odd:bg-white/5 even:bg-white/10\"\r\n                        }`}\r\n                      >\r\n                        <td className=\"px-2 py-2 border-r border-white/10\">\r\n                          <div className=\"font-semibold\">{v.name}</div>\r\n                          <div className=\"text-[10px] text-slate-400\">{v.type || \"\"}</div>\r\n                        </td>\r\n                        <td className=\"px-2 py-2 border-r border-white/10 text-sky-200\">\r\n                          {v.offset !== undefined ? `${v.offset}(%rbp)` : \"\"}\r\n                        </td>\r\n                        <td className=\"px-2 py-2 text-emerald-200\">{v.value || \"?\"}</td>\r\n                      </tr>\r\n                    ))}\r\n                    {current.vars.length === 0 && (\r\n                      <tr>\r\n                        <td colSpan={3} className=\"px-2 py-3 text-center text-slate-400\">\r\n                          Sin variables en este frame\r\n                        </td>\r\n                      </tr>\r\n                    )}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-sm text-slate-400\">Sin snapshot seleccionado.</div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Fallback: imagen base64 del backend\r\n  return (\r\n    <div className=\"h-full w-full flex flex-col bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 border border-white/10\">\r\n      <div className=\"flex items-center justify-between px-3 py-2 border-b border-white/10 bg-white/5 text-xs text-slate-200\">\r\n        <span className=\"uppercase tracking-[0.15em] text-slate-400\">Memoria / Stack (imagen)</span>\r\n      </div>\r\n\r\n      <div className=\"flex-1 overflow-auto p-4\">\r\n        <div className=\"relative w-full min-h-[300px] flex justify-center\">\r\n          <img\r\n            src={`data:image/png;base64,${imageBase64}`}\r\n            alt=\"Diagrama de Memoria\"\r\n            className=\"shadow-2xl shadow-black/40 border border-white/10 rounded-2xl max-w-full h-auto\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 653, "column": 0}, "map": {"version":3,"sources":["file:///C:/compilers/proyectofinal/ProyectoCompiv3/ProyectoCompi/frontend/lib/compiler-service.tsx"],"sourcesContent":["export interface CompilationResponse {\r\n  success: boolean\r\n  output: string\r\n  image_b64?: string\r\n  logs: string\r\n  stack?: StackFrame[]\r\n  asm?: string\r\n  asm_by_line?: Record<number, string[]>\r\n}\r\n\r\nexport type StackVar = {\r\n  name: string\r\n  value: string\r\n  offset?: number\r\n  type?: string\r\n}\r\n\r\nexport type StackFrame = {\r\n  label: string\r\n  vars: StackVar[]\r\n  sp?: number\r\n  line?: number\r\n  idx?: number\r\n}\r\n\r\nconst API_URL = process.env.NEXT_PUBLIC_COMPILER_API_URL || \"http://localhost:8000\"\r\n\r\nexport async function compileCode(code: string): Promise<CompilationResponse> {\r\n  try {\r\n    const response = await fetch(`${API_URL}/compile`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ code }),\r\n    })\r\n\r\n    if (!response.ok) {\r\n      throw new Error(\"Compilation failed\")\r\n    }\r\n\r\n    return response.json()\r\n  } catch (error) {\r\n    console.error(\"Error conectando con el compilador:\", error)\r\n    throw error\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAyBgB;AAAhB,MAAM,UAAU,6DAA4C;AAErD,eAAe,YAAY,IAAY;IAC5C,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,GAAG,QAAQ,QAAQ,CAAC,EAAE;YACjD,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;YACA,MAAM,KAAK,SAAS,CAAC;gBAAE;YAAK;QAC9B;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,IAAI,MAAM;QAClB;QAEA,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uCAAuC;QACrD,MAAM;IACR;AACF"}},
    {"offset": {"line": 686, "column": 0}, "map": {"version":3,"sources":["file:///C:/compilers/proyectofinal/ProyectoCompiv3/ProyectoCompi/frontend/app/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useRef, useState } from \"react\"\r\nimport { Play, Activity, AlertCircle, Code2, Zap, FileCode2 } from \"lucide-react\"\r\nimport { GrammarPanel } from \"@/components/grammar-panel\"\r\nimport { MemoryVisualizer } from \"@/components/memory-visualizer\"\r\nimport { compileCode, type StackFrame } from \"@/lib/compiler-service\"\r\n\r\nexport default function Home() {\r\n  const [code, setCode] = useState(\r\n    `#include <stdio.h>\r\n\r\nint main() {\r\n    int x;\r\n    int y;\r\n    long z;\r\n\r\n    x = 1;\r\n    y = 10;\r\n    z = 1000000;\r\n\r\n    x = 20;\r\n\r\n    printf(\" %d\\\\n\", x);\r\n    printf(\" %d\\\\n\", y);\r\n    printf(\" %ld\\\\n\", z);\r\n\r\n    return 0;\r\n}`,\r\n  )\r\n\r\n  const [output, setOutput] = useState(\"\")\r\n  const [logs, setLogs] = useState(\"\")\r\n  const [image, setImage] = useState(\"\")\r\n  const [stack, setStack] = useState<StackFrame[]>([])\r\n  const [asm, setAsm] = useState(\"\")\r\n  const [asmByLine, setAsmByLine] = useState<Record<number, string[]> | undefined>(undefined)\r\n  const [showFullAsm, setShowFullAsm] = useState(false)\r\n  const asmActiveRef = useRef<HTMLDivElement | null>(null)\r\n  const [loading, setLoading] = useState(false)\r\n  const [activeTab, setActiveTab] = useState<\"memory\" | \"logs\">(\"memory\")\r\n  const [activeSnap, setActiveSnap] = useState(0)\r\n  const activeSnapshot = stack[activeSnap]\r\n  const totalSnapshots = stack.length\r\n\r\n  const goPrev = () => setActiveSnap((idx) => (idx > 0 ? idx - 1 : idx))\r\n  const goNext = () => setActiveSnap((idx) => (idx + 1 < totalSnapshots ? idx + 1 : idx))\r\n  const handleRun = async () => {\r\n    setLoading(true)\r\n    setOutput(\"\")\r\n    setLogs(\"\")\r\n    setImage(\"\")\r\n    setStack([])\r\n    setAsm(\"\")\r\n    setAsmByLine(undefined)\r\n    setShowFullAsm(false)\r\n    setActiveSnap(0)\r\n\r\n    try {\r\n      const result = await compileCode(code)\r\n      setOutput(result.output)\r\n      setLogs(result.logs)\r\n      setImage(result.image_b64 || \"\")\r\n      setStack(result.stack || [])\r\n    setAsm(result.asm || \"\")\r\n    setAsmByLine(result.asm_by_line)\r\n    setActiveTab(result.stack && result.stack.length > 0 ? \"memory\" : \"logs\")\r\n  } catch (error) {\r\n      setOutput(\"Error de conexión con el servidor.\")\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (asmActiveRef.current && !showFullAsm) {\r\n      asmActiveRef.current.scrollIntoView({ behavior: \"smooth\", block: \"center\" })\r\n    }\r\n  }, [activeSnap, showFullAsm, asmByLine])\r\n\r\n  useEffect(() => {\r\n    const editorPane = document.getElementById(\"code-editor-pane\")\r\n    if (editorPane && stack[activeSnap]?.line) {\r\n      const line = stack[activeSnap].line!\r\n      const lines = editorPane.querySelectorAll(\".cm-line\")\r\n      const target = lines[line - 1] as HTMLElement | undefined\r\n      if (target) {\r\n        target.scrollIntoView({ behavior: \"smooth\", block: \"center\" })\r\n      }\r\n    }\r\n  }, [activeSnap, stack])\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background text-foreground text-sm\">\r\n      {/* Header */}\r\n      <header className=\"border-b border-border bg-card/50 backdrop-blur-sm sticky top-0 z-50\">\r\n        <div className=\"max-w-[1600px] mx-auto px-4 h-12 flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"flex items-center justify-center w-8 h-8 rounded-lg bg-accent/10 border border-accent/20\">\r\n              <Code2 size={16} className=\"text-accent\" />\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"font-semibold text-foreground\">Orbit</span>\r\n              <span className=\"text-muted-foreground text-sm hidden sm:inline\">/ Compiler</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"hidden sm:flex items-center gap-2 px-3 py-1.5 rounded-full bg-muted border border-border text-[11px]\">\r\n              <span className={`w-1.5 h-1.5 rounded-full ${loading ? \"bg-warning animate-pulse\" : \"bg-success\"}`} />\r\n              <span className=\"text-muted-foreground\">{loading ? \"Compilando...\" : \"Listo\"}</span>\r\n            </div>\r\n\r\n            <button\r\n              onClick={handleRun}\r\n              disabled={loading}\r\n              className={`flex items-center gap-2 px-3 py-2 rounded-lg text-xs font-medium transition-all duration-200 ${\r\n                loading\r\n                  ? \"bg-muted text-muted-foreground cursor-wait\"\r\n                  : \"bg-accent hover:bg-accent/90 text-accent-foreground shadow-lg shadow-accent/20\"\r\n              }`}\r\n            >\r\n              {loading ? (\r\n                <>\r\n                  <div className=\"w-3.5 h-3.5 border-2 border-muted-foreground/30 border-t-muted-foreground rounded-full animate-spin\" />\r\n                  <span className=\"hidden sm:inline\">Compilando</span>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Play size={14} fill=\"currentColor\" />\r\n                  <span>Ejecutar</span>\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Main Content */}\r\n      <main className=\"max-w-[1600px] mx-auto p-3 md:p-4\">\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-3 min-h-[calc(100vh-7rem)]\">\r\n          {/* Code Editor Panel */}\r\n          <div className=\"lg:col-span-1 rounded-xl bg-card border border-border overflow-hidden flex flex-col\">\r\n            <div className=\"flex items-center justify-between px-4 h-11 border-b border-border bg-muted/30\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"flex items-center gap-1.5\">\r\n                  <span className=\"w-3 h-3 rounded-full bg-destructive/80\" />\r\n                  <span className=\"w-3 h-3 rounded-full bg-warning/80\" />\r\n                  <span className=\"w-3 h-3 rounded-full bg-success/80\" />\r\n                </div>\r\n                <div className=\"flex items-center gap-2 text-sm\">\r\n                  <span className=\"text-foreground font-medium\">main.c</span>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-center gap-2 text-xs text-muted-foreground\">\r\n                <Zap size={12} />\r\n                <span>x86-64</span>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex-1 min-h-0 flex flex-col\">\r\n              <div className=\"flex-1 min-h-0\">\r\n                <GrammarPanel code={code} setCode={setCode} activeLine={activeSnapshot?.line} />\r\n              </div>\r\n              <div className=\"border-t border-border bg-muted/20 h-32 px-3 py-2 overflow-auto scrollbar-transparent\">\r\n                <div className=\"text-xs uppercase tracking-[0.15em] text-muted-foreground mb-1\">Salida</div>\r\n                <pre className=\"text-xs font-mono text-foreground whitespace-pre-wrap\">\r\n                  {output || <span className=\"text-muted-foreground italic\">Sin salida.</span>}\r\n                </pre>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Columna ASM */}\r\n          <div className=\"rounded-xl bg-card border border-border overflow-hidden flex flex-col\">\r\n            <div className=\"px-4 h-11 border-b border-border bg-muted/30 flex items-center justify-between\">\r\n              <div className=\"flex items-center gap-2 text-xs text-muted-foreground\">\r\n                <FileCode2 size={12} />\r\n                <span className=\"uppercase tracking-[0.15em]\">ASM</span>\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <button\r\n                  onClick={goPrev}\r\n                  disabled={activeSnap === 0 || totalSnapshots === 0}\r\n                  className=\"px-2 py-1 rounded border border-border bg-muted/40 text-foreground text-[11px] disabled:opacity-50\"\r\n                >\r\n                  ←\r\n                </button>\r\n                <button\r\n                  onClick={goNext}\r\n                  disabled={activeSnap + 1 >= totalSnapshots || totalSnapshots === 0}\r\n                  className=\"px-2 py-1 rounded border border-border bg-muted/40 text-foreground text-[11px] disabled:opacity-50\"\r\n                >\r\n                  →\r\n                </button>\r\n                {activeSnapshot?.line ? (\r\n                  <div className=\"text-[11px] text-muted-foreground font-mono\">\r\n                    Línea {activeSnapshot.line}\r\n                  </div>\r\n                ) : null}\r\n                <button\r\n                  onClick={() => {\r\n                    const next = !showFullAsm\r\n                    setShowFullAsm(next)\r\n                    if (!next && stack.length > 0) {\r\n                      setActiveSnap(stack.length - 1)\r\n                    }\r\n                    if (next) {\r\n                      // al ver código completo, desplazarse al inicio\r\n                      const container = document.getElementById(\"asm-scroll-container\")\r\n                      if (container) container.scrollTop = 0\r\n                    }\r\n                  }}\r\n                  className=\"text-[11px] px-2 py-1 rounded border border-border hover:bg-muted/40 text-foreground\"\r\n                >\r\n                  {showFullAsm ? \"Ver por línea\" : \"Ver código completo\"}\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div\r\n              id=\"asm-scroll-container\"\r\n              className=\"flex-1 p-4 overflow-y-auto max-h-[calc(100vh-14rem)] scrollbar-transparent\"\r\n            >\r\n              <div className=\"space-y-3\">\r\n                {(() => {\r\n                  if (asmByLine && !showFullAsm) {\r\n                    const targetLine = stack[activeSnap]?.line\r\n                    const prolog: string[] = []\r\n                    if (asm) {\r\n                      const linesAll = (asm || \"\").split(\"\\n\")\r\n                      for (const l of linesAll) {\r\n                        if (l.startsWith(\"# SNAPIDX\")) break\r\n                        if (l.trim().length > 0) prolog.push(l)\r\n                      }\r\n                    }\r\n\r\n                    const labelByLine = (line: number, instrs: string[]) => {\r\n                      const snap = stack.find((s) => s.line === line)\r\n                      if (snap?.label) return snap.label\r\n                      const joined = instrs.join(\" \")\r\n                      if (joined.includes(\"printf@PLT\")) return \"print\"\r\n                      if (joined.includes(\"call \")) return \"call\"\r\n                      if (joined.includes(\"pushq %rbp\") && joined.includes(\"movq %rsp, %rbp\")) return \"prolog\"\r\n                      if (joined.includes(\".globl\")) return \"func\"\r\n                      return \"\"\r\n                    }\r\n\r\n                    let blocks = Object.entries(asmByLine)\r\n                      .map(([lineStr, instrs]) => ({\r\n                        line: parseInt(lineStr, 10),\r\n                        instrs,\r\n                        label: labelByLine(parseInt(lineStr, 10), instrs),\r\n                      }))\r\n                      .filter((b) => b.line >= 1) // omitimos línea -1 (prolog ya se muestra aparte)\r\n                    if (prolog.length > 0) {\r\n                      blocks.unshift({ line: -1, instrs: prolog })\r\n                    }\r\n                    blocks.sort((a, b) => a.line - b.line)\r\n                    if (targetLine !== undefined) {\r\n                      blocks = blocks.filter((b) => b.line <= targetLine)\r\n                    }\r\n                    let activeLine = targetLine\r\n                    if (activeLine === undefined && blocks.length > 0) {\r\n                      activeLine = blocks[blocks.length - 1].line\r\n                    }\r\n                    return blocks.map((blk, idx) => (\r\n                      <div\r\n                        key={`${blk.line}-${idx}`}\r\n                        className={`rounded-lg border border-border bg-muted/30 p-3 ${\r\n                          activeLine === blk.line ? \"ring-2 ring-accent/60\" : \"\"\r\n                        }`}\r\n                        ref={activeLine === blk.line ? (el) => (asmActiveRef.current = el) : undefined}\r\n                      >\r\n                        <div className=\"flex items-center justify-between text-[11px] font-mono uppercase text-muted-foreground mb-2\">\r\n                          <span>Línea {blk.line}</span>\r\n                          <span className=\"text-foreground font-semibold\">{blk.label || \"\"}</span>\r\n                        </div>\r\n                        <pre className=\"font-mono text-xs text-accent-foreground whitespace-pre-wrap leading-relaxed\">\r\n                          {blk.instrs.length ? blk.instrs.join(\"\\n\") : \"// sin instrucciones\"}\r\n                        </pre>\r\n                      </div>\r\n                    ))\r\n                  }\r\n\r\n                  // Si no hay asm_by_line, mostrar ASM completo\r\n                  return (\r\n                    <div className=\"rounded-lg border border-border bg-muted/30 p-3\">\r\n                      <pre className=\"font-mono text-xs text-accent-foreground whitespace-pre-wrap leading-relaxed\">\r\n                        {(asm || \"\")\r\n                          .split(\"\\n\")\r\n                          .filter((l) => !l.trim().startsWith(\"# SNAPIDX\"))\r\n                          .join(\"\\n\") || \"// sin instrucciones\"}\r\n                      </pre>\r\n                    </div>\r\n                  )\r\n                })()}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Columna Memoria / Logs */}\r\n          <div className=\"rounded-xl bg-card border border-border overflow-hidden flex flex-col\">\r\n            <div className=\"flex items-center gap-1 px-2 h-11 border-b border-border bg-muted/30\">\r\n              {([\"memory\", \"logs\"] as const).map((tab) => (\r\n                <button\r\n                  key={tab}\r\n                  onClick={() => setActiveTab(tab)}\r\n                  className={`flex items-center gap-2 px-3 py-1.5 rounded-md text-xs font-medium transition-all duration-200 ${\r\n                    activeTab === tab\r\n                      ? \"bg-accent text-accent-foreground shadow-sm\"\r\n                      : \"text-muted-foreground hover:text-foreground hover:bg-muted\"\r\n                  }`}\r\n                >\r\n                  {tab === \"memory\" && <Activity size={12} />}\r\n                  {tab === \"logs\" && <AlertCircle size={12} />}\r\n                  <span className=\"capitalize\">{tab === \"memory\" ? \"Memoria\" : \"Logs\"}</span>\r\n                </button>\r\n              ))}\r\n            </div>\r\n            <div className=\"flex-1 overflow-hidden\">\r\n              {activeTab === \"memory\" && (\r\n                <div className=\"h-full\">\r\n                  <MemoryVisualizer\r\n                    imageBase64={image}\r\n                    stack={stack}\r\n                    output={output}\r\n                    activeIndex={activeSnap}\r\n                    setActiveIndex={setActiveSnap}\r\n                  />\r\n                </div>\r\n              )}\r\n              {activeTab === \"logs\" && (\r\n                <div className=\"h-full p-4 overflow-auto\">\r\n                  <pre className=\"font-mono text-xs text-warning whitespace-pre-wrap leading-relaxed\">\r\n                    {logs || <span className=\"text-muted-foreground italic\">No hay logs disponibles.</span>}\r\n                  </pre>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}